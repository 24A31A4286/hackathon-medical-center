<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Doctor Appointment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#e8f5e9;
  padding:30px;
}
.form-box{
  max-width:600px;
  background:white;
  padding:25px;
  border-radius:12px;
  margin:auto;
  box-shadow:0 6px 15px rgba(0,0,0,0.2);
}
h2{
  text-align:center;
  color:#2e7d32;
}
input, select, textarea, button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:6px;
  border:1px solid #aaa;
}
button{
  background:#2e7d32;
  color:white;
  font-size:16px;
  cursor:pointer;
}
button:hover{
  background:#1b5e20;
}
.note{
  font-size:13px;
  color:#555;
}
</style>
</head>

<body>

<div class="form-box">
<h2>Book Doctor Appointment</h2>

<form onsubmit="bookAppointment(event)">
  <input id="name" placeholder="Patient Name" required>
  <input id="age" type="number" placeholder="Age" required>

  <select id="gender" required>
    <option value="">Select Gender</option>
    <option>Male</option>
    <option>Female</option>
    <option>Other</option>
  </select>

  <input id="date" type="date" required>
  <input id="time" type="time" required>

  <textarea id="issue" placeholder="Health Issue" required></textarea>

  <input id="email" type="email" placeholder="Email (Optional)">
  <input id="phone" placeholder="Phone Number" required>

  <input id="doctor" placeholder="Doctor Name (Optional)">
  <textarea id="address" placeholder="Address" required></textarea>

  <button type="submit">Book Appointment</button>
</form>

<p class="note">ðŸ“Œ Phone number is mandatory. Email & Doctor name are optional.</p>
</div>

<script>
function bookAppointment(e){
  e.preventDefault();

  // GET ELEMENT VALUES PROPERLY
  const pname = document.getElementById("name").value;
  const page = document.getElementById("age").value;
  const pgender = document.getElementById("gender").value;
  const pdate = document.getElementById("date").value;
  const ptime = document.getElementById("time").value;
  const pissue = document.getElementById("issue").value;
  const pemail = document.getElementById("email").value;
  const pphone = document.getElementById("phone").value;
  const pdoctor = document.getElementById("doctor").value;
  const paddress = document.getElementById("address").value;

  // REJECTION CONDITION
  if(pphone.length < 10){
    localStorage.setItem("appointmentStatus","rejected");
    window.location.href="appointment-status.html";
    return;
  }

  const appointment = {
    name: pname,
    age: page,
    gender: pgender,
    date: pdate,
    time: ptime,
    issue: pissue,
    email: pemail || "Not Provided",
    phone: pphone,
    doctor: pdoctor || "Not Specified",
    address: paddress
  };

  localStorage.setItem("appointmentData", JSON.stringify(appointment));
  localStorage.setItem("appointmentStatus","success");

  window.location.href="appointment-status.html";
}
</script>

</body>
</html>
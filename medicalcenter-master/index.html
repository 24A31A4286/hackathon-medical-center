<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title> Medical</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/slicknav.css">
    <link rel="stylesheet" href="assets/css/flaticon.css">
    <link rel="stylesheet" href="assets/css/gijgo.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/animated-headline.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/nice-select.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- ? Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="assets/img/logo/loder.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <!-- Preloader Start -->
    <header>
        <!--? Header Start -->
        <div class="header-area">
            <div class="main-header header-sticky">
                <div class="container-fluid">
                    <div class="row align-items-center">
                        <!-- Logo -->
                        <div class="col-xl-2 col-lg-2 col-md-1">
                            <div class="logo">
                                <a href="index.html"><img src="assets/img/logo/logo.png" alt=""></a>
                            </div>
                        </div>
                        <div class="col-xl-10 col-lg-10 col-md-10">
                            <div class="menu-main d-flex align-items-center justify-content-end">
                                <!-- Main-menu -->
                                <div class="main-menu f-right d-none d-lg-block">
                                    <nav>
                                        <ul id="navigation">
                                            <li><a href="index.html">Dashboard</a></li>
                                            <li><a href="appointments.html">Appointments</a></li>
                                            <li><a href="prescriptions.html">Prescriptions</a></li>
                                            <li><a href="medicine.html">Medicine</a></li>
                                            <li><a href="organs.html">Organs</a></li>
                                            <li><a href="diet.html">Diet Plan</a></li>
                                            <li><a href="first-aid.html">First Aid</a></li>
                                            <li><a href="#" onclick="logout()">Logout</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                        <!-- Mobile Menu -->
                        <div class="col-12">
                            <div class="mobile_menu d-block d-lg-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header End -->
    </header>
    <main>
        <!--? slider Area Start-->
        <div class="slider-area position-relative">
            <div class="slider-active">
                <!-- Single Slider -->
                <div class="single-slider slider-height d-flex align-items-center">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-7 col-lg-9 col-md-8 col-sm-9">
                                <div class="hero__caption">
                                    <span>Committed to success</span>
                                    <h1 class="cd-headline letters scale">MediVerse
                                        <strong class="cd-words-wrapper">
                                            <b class="is-visible">Health</b>
                                            <b>life</b>
                                            <b>smiles</b>
                                        </strong>
                                    </h1>
                                    <p data-animation="fadeInLeft" data-delay="0.1s">MediVerse is an all-in-one digital
                                        healthcare platform that brings medical services to your fingertips.
                                        From medicine reminders to mental health support, we care for your
                                        complete¬†well-being.</p>
                                    <a href="#" class="btn hero-btn" data-animation="fadeInLeft"
                                        data-delay="0.5s">Appointment <i class="ti-arrow-right"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Single Slider -->
                <div class="single-slider slider-height d-flex align-items-center">
                    <div class="container">
                        <div class="row">
                            <div class="col-xl-7 col-lg-9 col-md-8 col-sm-9">
                                <div class="hero__caption">
                                    <span>Committed to success</span>
                                    <h1 class="cd-headline letters scale">We care about your
                                        <strong class="cd-words-wrapper">
                                            <b class="is-visible">health</b>
                                            <b>sushi</b>
                                            <b>steak</b>
                                        </strong>
                                    </h1>
                                    <p data-animation="fadeInLeft" data-delay="0.1s">Ut enim ad minim veniam, quis
                                        nostrud exercitation ullamco laboris nisi uquip ex ea commodo consequat is aute
                                        irure.</p>
                                    <a href="#" class="btn hero-btn" data-animation="fadeInLeft"
                                        data-delay="0.5s">Appointment <i class="ti-arrow-right"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- slider Area End-->

        <!--? About Start-->
        <div class="about-area section-padding2">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-10">
                        <div class="about-caption mb-50">
                            <!-- Section Tittle -->
                            <div class="section-tittle section-tittle2 mb-35">
                                <span>About Our Company</span>
                                <h2>Welcome To Our Services</h2>
                            </div>
                            <p> Medicine Reminder ‚Äì Timely alerts to never miss your medicines<br>

                                Online Doctor Appointment ‚Äì Easy booking and virtual consultations<br>

                                Health Record Keeper ‚Äì Secure storage of medical reports and history<br>

                                First Aid Guidance ‚Äì Quick help during emergencies<br>


                                Basic Symptom Checker ‚Äì Early health awareness and suggestions<br>


                                Blood & Organ Donation ‚Äì Donor registration and request support<br>


                                Mental Health Chatbot ‚Äì 24/7 emotional and mental well-being support<br>


                                Diet & Nutrition Planner ‚Äì Personalized healthy diet recommendations<br>



                                All services in one platform ‚Äì MediVerse</p>

                        </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                        <!-- about-img -->
                        <div class="about-img ">
                            <div class="about-font-img d-none d-lg-block">
                                <img src="assets/img/gallery/about2.png" alt="">
                            </div>
                            <div class="about-back-img ">
                                <img src="assets/img/gallery/about1.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- About  End-->
        <!--? department_area_start  -->
        <div class="department_area section-padding20">
            <div class="container">
                <!-- Section Tittle -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="section-tittle text-center mb-100">
                            <span>Our Departments</span>
                            <h2>Our Medical Services</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="depart_ment_tab mb-30">
                            <!-- Tabs Buttons -->
                            <ul class="nav" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab"
                                        aria-controls="home" aria-selected="true">
                                        <i class="flaticon-teeth"></i>
                                        <h4>General Healthcare</h4>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
                                        aria-controls="profile" aria-selected="false">
                                        <i class="flaticon-cardiovascular"></i>
                                        <h4>Doctor Consultation</h4>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                                        aria-controls="contact" aria-selected="false">
                                        <i class="flaticon-ear"></i>
                                        <h4>Medical Records</h4>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="Astrology-tab" data-toggle="tab" href="#Astrology"
                                        role="tab" aria-controls="contact" aria-selected="false">
                                        <i class="flaticon-bone"></i>
                                        <h4>Emergency & First Aid</h4>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="Neuroanatomy-tab" data-toggle="tab" href="#Neuroanatomy"
                                        role="tab" aria-controls="contact" aria-selected="false">
                                        <i class="flaticon-lung"></i>
                                        <h4>Mental Health</h4>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="Blood-tab" data-toggle="tab" href="#Blood" role="tab"
                                        aria-controls="contact" aria-selected="false">
                                        <i class="flaticon-cell"></i>
                                        <h4>Blood & Organ Donation</h4>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="dept_main_info white-bg">
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúCaring for Health, Empowering Lives.‚Äù</h3>
                                        <p>Quality healthcare is essential for a happy and healthy life. It involves
                                            timely medical attention, preventive care, and access to reliable health
                                            information. By promoting wellness, monitoring health conditions, and
                                            supporting informed decisions, healthcare helps individuals maintain
                                            physical and mental well-being. With a focus on safety, trust, and
                                            accessibility, effective healthcare ensures that everyone can live
                                            healthier, longer, and more fulfilling¬†lives.</p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/department_man.png" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->
                        </div>
                        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúExpert Care, Anytime You Need.‚Äù</h3>
                                        <p>Our doctor consultation services connect you with qualified medical
                                            professionals for personalized advice and timely care. Whether it‚Äôs routine
                                            check-ups, second opinions, or managing ongoing health conditions, we ensure
                                            that every consultation is secure, reliable, and convenient. With a focus on
                                            accuracy, empathy, and patient well-being, we make healthcare accessible and
                                            trustworthy, helping you make informed decisions for a¬†healthier¬†life.</p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/consultation.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->
                        </div>
                        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúYour Health, Safely Stored.‚Äù</h3>
                                        <p> Our medical records system securely stores and organizes your health
                                            information, giving you easy access whenever you need it. From test results
                                            and prescriptions to past consultations, every record is protected with
                                            strict privacy standards and encryption. By keeping your health data safe,
                                            accurate, and readily available, we empower you and your healthcare
                                            providers to make informed decisions and ensure continuity¬†of¬†care.</p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/record.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->
                        </div>
                        <div class="tab-pane fade" id="Astrology" role="tabpanel" aria-labelledby="Astrology-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúQuick Response, Lifesaving Care.‚Äù</h3>
                                        <p>Our emergency and first aid services are designed to provide immediate
                                            medical support when every second counts. From on-site first aid guidance to
                                            urgent medical attention, we prioritize rapid response, safety, and
                                            effective care. By combining trained professionals, clear instructions, and
                                            accessible resources, we ensure that critical situations are handled
                                            efficiently, helping to protect lives and reduce health
                                            risks¬†in¬†emergencies. </p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/firstaid.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->
                        </div>
                        <div class="tab-pane fade" id="Neuroanatomy" role="tabpanel" aria-labelledby="Neuroanatomy-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúCaring Minds, Healthier Lives.‚Äù</h3>
                                        <p>Our mental health services focus on supporting emotional well-being,
                                            resilience, and overall psychological health. Through counseling, therapy,
                                            and accessible resources, we provide guidance to manage stress, anxiety,
                                            depression, and other mental health challenges. By combining professional
                                            care with a compassionate approach, we aim to create a safe space where
                                            individuals can feel heard, understood, and empowered to lead balanced and
                                            fulfilling¬†lives.</p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/mental.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->
                        </div>
                        <div class="tab-pane fade" id="Blood" role="tabpanel" aria-labelledby="Blood-tab">
                            <!-- single_content  -->
                            <div class="row align-items-center no-gutters">
                                <div class="col-lg-7">
                                    <div class="dept_info">
                                        <h3>‚ÄúGive Life, Save Lives.‚Äù</h3>
                                        <p>Organ and blood donation are powerful acts of compassion that can save
                                            countless lives. By donating blood or organs, individuals provide critical
                                            support to patients in need, from emergency transfusions to life-saving
                                            transplants. Our platform promotes awareness, safe practices, and easy
                                            access to donation opportunities, ensuring every contribution is impactful.
                                            Together, we can foster a culture of generosity, hope, and life-saving¬†care.
                                        </p>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="dept_thumb">
                                        <img src="assets/img/gallery/organ.jpg" alt="">
                                    </div>
                                </div>
                            </div>
                            <!-- single_content  -->

                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- depertment area end  -->
        <!--? Gallery Area Start -->
        <div class="gallery-area section-padding10">
            <div class="container">
                <!-- Section Tittle -->
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="section-tittle text-center mb-100">
                            <span>Our Gallary</span>
                            <h2>Our Medical Camp</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <!-- Left -->
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="single-gallery mb-30">
                                    <div class="gallery-img big-img"
                                        style="background-image: url(assets/img/gallery/gallery1.png);height: 500px;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="single-gallery mb-30">
                                    <div class="gallery-img small-img"
                                        style="background-image: url(assets/img/gallery/gallery2.png);height: 220px;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="single-gallery mb-30" style="
                               background-image:url(assets/img/gallery/gallery7.png.jpg);
                                 height:400px;
                                 width:100%;
                                 margin-top:10px;
                                 background-size:cover;
                                 background-position:center;">
                                    ¬†¬† </div>
                            </div>
                        </div>
                    </div>
                    <!-- Right -->
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="single-gallery mb-30">
                                    <div class="gallery-img small-img"
                                        style="background-image: url(assets/img/gallery/gallery4.png);"></div>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="single-gallery mb-30">
                                    <div class="gallery-img small-img"
                                        style="background-image: url(assets/img/gallery/gallery5.png);"></div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="single-gallery mb-30">
                                    <div class="gallery-img big-img"
                                        style="background-image: url(assets/img/gallery/gallery6.png);"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Gallery Area End -->
        <!--? Team Start -->
        <div class="team-area section-padding10">
            <div class="container">
                <!-- Section Tittle -->
                <div class="row justify-content-center">
                    <div class="col-lg-6">
                        <div class="section-tittle text-center mb-100">
                            <span>Our Doctors</span>
                            <h2>Our Specialist</h2>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <!-- single Tem -->
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-">
                        <div class="single-team mb-30">
                            <div class="team-img">
                                <img src="assets/img/gallery/team2.png" alt="">
                            </div>
                            <div class="team-caption">
                                <h3><a href="#">Dr.Sharma Rao</a></h3>
                                <h4>General Physician</h4>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-">
                        <div class="single-team mb-30">
                            <div class="team-img">
                                <img src="assets/img/gallery/team3.png" alt="">
                            </div>
                            <div class="team-caption">
                                <h3><a href="#">Dr. Prasanna Kumar</a></h3>
                                <h4>Psychiatrist</h4>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6 col-sm-">
                        <div class="single-team mb-30">
                            <div class="team-img">
                                <img src="assets/img/gallery/team1.png" alt="">
                            </div>
                            <div class="team-caption">
                                <h3><a href="#">Dr.KrishnaMurthy</a></h3>
                                <h4>Chief</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Team End -->
        <!-- JS here -->

        <script>
            // --- AUTH GUARD ---
            const user = JSON.parse(localStorage.getItem("user"));
            if (!user) {
                window.location.href = "login.html";
            }

            function logout() {
                localStorage.removeItem("user");
                window.location.href = "login.html";
            }

            // --- DASHBOARD LOGIC ---
            document.addEventListener("DOMContentLoaded", async () => {
                // 1. Fetch Appointments
                const tableBody = document.getElementById("appointment-table-body");
                try {
                    const res = await fetch(`http://localhost:5000/api/appointments/${user._id}`);
                    const appointments = await res.json();

                    tableBody.innerHTML = ""; // Clear loading

                    if (appointments.length === 0) {
                        tableBody.innerHTML = "<tr><td colspan='4' class='text-center'>No appointments found.</td></tr>";
                    } else {
                        appointments.slice(0, 5).forEach(app => { // Show max 5
                            const date = new Date(app.date).toLocaleDateString();
                            const statusColor = app.status === 'Waiting' ? 'orange' : 'green';

                            const row = `
                                <tr>
                                    <td>${date}<br><small>${app.time}</small></td>
                                    <td>${app.doctorName}</td>
                                    <td style="color:${statusColor}; font-weight:bold;">${app.status}</td>
                                    <td>#${app.tokenNumber}</td>
                                </tr>
                            `;
                            tableBody.innerHTML += row;
                        });
                    }
                } catch (err) {
                    console.error("Error loading appointments", err);
                    tableBody.innerHTML = "<tr><td colspan='4' class='text-center text-danger'>Failed to load data.</td></tr>";
                }

                // 2. Render Chart (BMI/Health Distribution)
                const ctx = document.getElementById('healthChart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Healthy', 'Attention Needed', 'Critical'],
                        datasets: [{
                            data: [70, 20, 10], // Static demo data for now
                            backgroundColor: ['#22c55e', '#facc15', '#ef4444'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { position: 'bottom' },
                            title: { display: true, text: 'Overall Health Score' }
                        }
                    }
                });
            });
        </script>


        <!-- ===== END ===== -->
        <!-- gallery Products End -->
    </main>

    <!-- Scroll Up -->
    <div id="back-top">
        <a title="Go to Top" href="#"> <i class="fas fa-level-up-alt"></i></a>
    </div>

    <!-- JS here -->

    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="./assets/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="./assets/js/owl.carousel.min.js"></script>
    <script src="./assets/js/slick.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="./assets/js/wow.min.js"></script>
    <script src="./assets/js/animated.headline.js"></script>
    <script src="./assets/js/jquery.magnific-popup.js"></script>

    <!-- Date Picker -->
    <script src="./assets/js/gijgo.min.js"></script>
    <!-- Nice-select, sticky -->
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.sticky.js"></script>

    <!-- counter , waypoint -->
    <script src="./assets/js/jquery.counterup.min.js"></script>
    <script src="./assets/js/waypoints.min.js"></script>
    <script src="./assets/js/jquery.countdown.min.js"></script>
    <!-- ===== MEDI AI CHATBOT WIDGET ===== -->
    <style>
        /* Floating Button */
        .chat-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #0a4dbf;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 1000;
            transition: transform 0.3s;
        }

        .chat-btn:hover {
            transform: scale(1.1);
        }

        /* Chat Window */
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid #ddd;
        }

        /* Header */
        .chat-header {
            background: #0a4dbf;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h4 {
            margin: 0;
            color: white;
            font-size: 18px;
        }

        .close-chat {
            cursor: pointer;
            font-size: 20px;
        }

        /* Body */
        .chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
            font-size: 14px;
        }

        .bot-msg {
            background: #e3f2fd;
            color: #333;
            align-self: flex-start;
        }

        .user-msg {
            background: #0a4dbf;
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }

        /* Footer */
        .chat-footer {
            padding: 10px;
            border-top: 1px solid #ddd;
            display: flex;
            gap: 10px;
            background: white;
        }

        .chat-footer input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .chat-footer button {
            background: #0a4dbf;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>

    <!-- Floating Button -->
    <div class="chat-btn" onclick="toggleChat()">ü§ñ</div>

    <!-- Chat Window -->
    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <h4>ü§ñ Medi AI Assistant</h4>
            <span class="close-chat" onclick="toggleChat()">‚úñ</span>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="message bot-msg">Hello! I am Medi AI. How can I help you today?</div>
        </div>
        <div class="chat-footer">
            <input type="text" id="chat-input" placeholder="Type a message..." onkeypress="handleEnter(event)">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <!-- Script -->
    <script>
        function toggleChat() {
            const win = document.getElementById("chat-window");
            win.style.display = win.style.display === "flex" ? "none" : "flex";
        }

        function handleEnter(e) {
            if (e.key === "Enter") sendMessage();
        }

        async function sendMessage() {
            const input = document.getElementById("chat-input");
            const msg = input.value.trim();
            if (!msg) return;

            // Add User Message
            addMessage(msg, "user-msg");
            input.value = "";

            // Show Loading...
            const loadingId = addMessage("Thinking...", "bot-msg");

            try {
                const res = await fetch("http://localhost:5000/api/chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: msg })
                });

                if (!res.ok) {
                    const errData = await res.json();
                    throw new Error(errData.message || errData.error || `Server error: ${res.status}`);
                }

                const data = await res.json();

                // Remove loading and add response
                document.getElementById(loadingId).remove();
                addMessage(data.reply, "bot-msg");

            } catch (err) {
                document.getElementById(loadingId).remove();
                addMessage(`‚ö†Ô∏è Error: ${err.message || "Check Server/API Key"}`, "bot-msg");
            }
        }

        function addMessage(text, className) {
            const div = document.createElement("div");
            const id = "msg-" + Date.now();
            div.id = id;
            div.className = `message ${className}`;
            div.innerText = text;
            const body = document.getElementById("chat-body");
            body.appendChild(div);
            body.scrollTop = body.scrollHeight;
            return id;
        }
    </script>
    <!-- ===== END MEDI AI ===== -->

    <!-- contact js -->
    <script src="./assets/js/contact.js"></script>
    <script src="./assets/js/jquery.form.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/mail-script.js"></script>
    <script src="./assets/js/jquery.ajaxchimp.min.js"></script>

    <!-- Jquery Plugins, main Jquery -->
    <script src="./assets/js/plugins.js"></script>
    <script src="./assets/js/main.js"></script>

</body>

</html>